name: Deployment Status Check

on:
  workflow_run:
    workflows: ["Deploy to Railway", "Deploy to Vercel", "Deploy to Railway and Vercel"]
    types:
      - completed
  workflow_dispatch:

jobs:
  check-deployments:
    name: Check Deployment Status
    runs-on: ubuntu-latest
    steps:
      - name: Check Railway deployment
        run: |
          echo "Checking Railway deployment status..."
          # This would check Railway API, but for now just report
          echo "✅ Railway deployment workflow completed"
        continue-on-error: true

      - name: Check Vercel deployment
        run: |
          echo "Checking Vercel deployment status..."
          # This would check Vercel API, but for now just report
          echo "✅ Vercel deployment workflow completed"
        continue-on-error: true

      - name: Deployment summary
        run: |
          echo "## Deployment Status Summary" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "Check individual workflow runs for detailed status." >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "**Railway**: Check [Railway Dashboard](https://railway.app)" >> $GITHUB_STEP_SUMMARY
          echo "**Vercel**: Check [Vercel Dashboard](https://vercel.com/dashboard)" >> $GITHUB_STEP_SUMMARY
