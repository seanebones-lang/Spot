# Railway configuration for EmPulse Music
<<<<<<< HEAD
# Dual-deploy: Railway (DB/API) + Vercel (Frontend)

[build]
builder = "nixpacks"
command = "prisma generate && npm run build"

[deploy]
startCommand = "npm start"
healthcheckPath = "/api/health"
=======

[build]
builder = "nixpacks"

[deploy]
startCommand = "npm start"
healthcheckPath = "/"
>>>>>>> 460cde8a4456665eaca40b34f2a2a146c789ce1e
healthcheckTimeout = 100
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 10

<<<<<<< HEAD
# Environment variables
# DATABASE_URL will be auto-set from PostgreSQL service
# PORT is automatically set by Railway (default: 3000)

[environments.production]
NODE_ENV = "production"

[environments.staging]
NODE_ENV = "staging"
=======
[environments.production]
# Production environment variables should be set in Railway dashboard
# NODE_ENV=production
# PORT=3000 (automatically set by Railway)

[environments.staging]
# Staging environment variables

# Build configuration
[build.buildCommand]
command = "prisma generate && npm run build"

# Environment variables (set in Railway dashboard)
# Required:
# - NODE_ENV=production
# - PORT (set automatically by Railway)

# Optional:
# - DATABASE_URL (if using database)
# - API_URL (if using external API)
# - NEXT_PUBLIC_API_URL (for client-side API calls)
>>>>>>> 460cde8a4456665eaca40b34f2a2a146c789ce1e
